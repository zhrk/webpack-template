## Установка webpack

Для начала нужно создать **package.json** с помощью `npm init`

После этого инициализировать git репозиторий и создать файл **.gitignore** с таким содержимым внутри:

```
node_modules
package-lock.json
```

Далее нужно выполнить

```
npm i webpack webpack-cli --save-dev
```

Эта команда установит необходимые пакеты для начала минимальной работы с webpack. Первый пакет собственно сам webpack, второй - интерфейс командной строки для работы с ним. Без него банально нельзя будет сделать сбилдить бандл.

Далее нужно создать **webpack.config** чтобы не использовать дефолтный конфиг вебпака и иметь возможность расширять свой собственный.

```
const path = require("path"); // стандартный пакет который поставляется вместе с node.js и его нет надобности устанавливать (вроде как на самом деле есть, но эта информация старая и возможно не актуальна в новых версиях ноды)

module.exports = {
  entry: './src/index.js', // точка входа в приложение
  output: {
    path: path.resolve(__dirname, 'dist'), // путь к точке выхода конечного бандла (расчитывается с помощью пакета path и константы __dirname поставляемой нодой)
    filename: 'bundle.js', // имя файла с бандлом
  },
};
```

И создать **src/index.js** + **index.html**, в первом написать любой JavaScript код для теста, во втором то, что ниже:

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    123
  </body>
  <script src="dist/bundle.js"></script>
  <!-- Тут по сути важна только строчка выше, т.к. это по сути и есть подключения бандла к документу -->
</html>
```

Собственно и все, осталось только отредактировать файл **package.json**

```
{
  ...
  "main": "index.js", - удалить эту строчку, т.к. точка входа и так определена и обрабатывается webpack-ом
  "scripts": {
    "dev": "webpack" - заменить стандартную с test на эту
  },
}

```

и выполнить билд введя в консоли `npm run dev`

По итогу получится бандл в папке **dist**, который подключается в **index.html** и берёт весь код из **src/index.js**

## Установка babel

Нужно начать с того, что указать webpack-у в каком "моде" работает скрипт. В дальнейшем это понадобится для того, чтобы опираться на это в **webpack.config**, а пока хотя бы пропадёт предупреждение при создании бандла.
Плюс ко всему можно заметить, что в production моде код, который собирается в бандле не так читаем, как в development.

```
"dev": "webpack --mode development"
```

После этого надо установить babel

```
npm i @babel/core @babel/preset-env babel-loader --save-dev
```

**@babel/core** - парсит и транспилирует JavaScript код.

**@babel/babel/preset-env** - правила, которые описаны в этом пакете, применяются при транспиляции распаршенного кода чтобы он мог запускаться в браузерах которые его не поддерживают.

**babel-loader** - лоадер для вебпака, с помощью него весь JavaScript код обрабатывается с помощью babel.

Далее сконфигурируем webpack для работы с этими пакетами изменив **webpack.config.js**:

```
module.exports = {
  ...,
  module: {
    rules: [
      {
        test: /\.js$/, // правило справедливо для всех .js файлов
        loader: "babel-loader", // все файлы которые прошли проверку на регулярное выражение будут обработаны этим лоадером
        exclude: /node_modules/, // игнорировать папку с зависимостями
      },
    ],
  },
};
```

Теперь надо настроить сам babel создав в корне проекта файл **.babelrc** и добавив в него:

```
{
  "presets": ["@babel/preset-env"]
}
```

Таким образом вебпак будет обрабатывать все .js файлы с помощью лоадера и пропускать их через babel, который в свою очередь преобразует код для работы в старых браузерах
